<script>
    // Example of properly structured Chart.js data
    const ctx = document.getElementById('scoreChart').getContext('2d');
    const chart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: Object.keys(reportData), // Subject names
            datasets: [
                {
                    label: '>=8 points',
                    data: Object.values(reportData).map(d => d['>=8']),
                    backgroundColor: 'rgba(75, 192, 192, 0.6)',
                },
                {
                    label: '6-8 points',
                    data: Object.values(reportData).map(d => d['6-8']),
                    backgroundColor: 'rgba(54, 162, 235, 0.6)',
                },
                {
                    label: '4-6 points',
                    data: Object.values(reportData).map(d => d['4-6']),
                    backgroundColor: 'rgba(255, 206, 86, 0.6)',
                },
                {
                    label: '<4 points',
                    data: Object.values(reportData).map(d => d['<4']),
                    backgroundColor: 'rgba(255, 99, 132, 0.6)',
                },
            ],
        },
        options: {
            responsive: true,
            plugins: {
                legend: { position: 'top' },
            },
            scales: {
                x: { stacked: true },
                y: { stacked: true, beginAtZero: true },
            },
        },
    });
</script>
